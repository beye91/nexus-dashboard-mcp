# Nexus Dashboard MCP Server Configuration

# Database Configuration
DATABASE_URL=postgresql://mcp_user:changeme@postgres:5432/nexus_mcp
DB_PASSWORD=changeme

# Security Configuration
EDIT_MODE_ENABLED=false
ENCRYPTION_KEY=generate-using-fernet-key-generation

# Server Configuration
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8080
LOG_LEVEL=INFO

# Session Configuration
SESSION_SECRET_KEY=generate-random-secret-key
SESSION_TIMEOUT_MINUTES=30

# Optional: MCP API Token for remote access security
# MCP_API_TOKEN=your-secure-token-here

# =============================================================================
# SSL/TLS Configuration (HTTPS)
# =============================================================================

# Certificate generation settings
# CERT_DAYS       - Certificate validity period in days (default: 365)
# CERT_CN         - Certificate Common Name (default: nexus-dashboard)
# CERT_ORG        - Certificate Organization (default: Nexus MCP)
# CERT_SERVER_IP  - Your server's IP address (added to certificate SANs)
#                   IMPORTANT: Set this to your server's IP for browser access
CERT_DAYS=365
CERT_CN=nexus-dashboard
CERT_ORG=Nexus MCP
CERT_SERVER_IP=192.168.1.213

# =============================================================================
# Service URLs (HTTPS)
# =============================================================================

# Web API (FastAPI/MCP) HTTPS endpoint
# External access: https://YOUR_SERVER_IP:8444
WEB_API_PORT=8444

# Web UI (Next.js) HTTPS endpoint
# External access: https://YOUR_SERVER_IP:7443
WEB_UI_PORT=7443

# Backend API URL (internal Docker network communication)
BACKEND_API_URL=https://web-api:8444

# =============================================================================
# Notes
# =============================================================================
#
# Nexus Dashboard cluster credentials are managed via the Web UI.
# Configure clusters at https://YOUR_SERVER_IP:7443/clusters after starting.
#
# MCP SSE endpoint for Claude Desktop:
#   https://YOUR_SERVER_IP:8444/mcp/sse
#
# Self-signed certificates will generate browser warnings on first access.
# Accept the certificate to continue.
#
# To regenerate certificates:
#   1. docker compose down
#   2. docker volume rm nexus-mcp-certs
#   3. docker compose up --build
